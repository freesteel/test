<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <meta name="wap-font-scale" content="no"/>
    <meta name="renderer" content="webkit"/>
    <meta name="applicable-device" content="mobile"/>
    <script src="./js/flexible_css.js"></script>
    <script src="./js/flexible.debug.js"></script>
    <link rel="stylesheet" href="./css/artlist.css">
    <title>文章列表</title>
</head>
<body>
<nav>
    <a href="javascript:">师兄说 </a>|
    <a href="javascript:">有奇葩 </a>|
    <a href="javascript:">技巧论 </a>|
</nav>
<div id="loadList">
    <section>
        <a href="">
            <h1>六月 | 产品大伽伴你行，从小白到精英的蜕变</h1>
            <article>by <span>沃尔大叔</span> 2016-8-16 18:52</article>
            <i><i class="icon1"></i></i>
            <i><i class="icon2"></i></i>
            <i><i class="icon3"></i></i>
            <i><i class="icon4"></i></i>
            <img src="css/da1.png">
            <p>一个APP开始启动设计时，第一步应该用主要页面定下整页面按着统一的设计风格进行细致的设计美化。</p>
            <h2>
                <div>
                    <div class="heart heart2"></div>
                    <span>12323</span>
                </div>
                <div>
                <span class="typing-indicator">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
                    <span>5333</span>
                </div>
            </h2>
        </a>
    </section>
    <section>
        <a href="">
            <h1>六月 | 产品大伽伴你行，从小白到精英的蜕变</h1>
            <article>by <span>沃尔大叔</span> 2016-8-16 18:52</article>
            <i><i class="icon1"></i></i>
            <i><i class="icon2"></i></i>
            <i><i class="icon3"></i></i>
            <i><i class="icon4"></i></i>
            <img src="css/da1.png">
            <p>一个APP开始启动设计时，第一步应该用主要页面定下整页面按着统一的设计风格进行细致的设计美化。</p>
            <h2>
                <div>
                    <div class="heart heart2"></div>
                    <span>12323</span>
                </div>
                <div>
                <span class="typing-indicator">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
                    <span>5333</span>
                </div>
            </h2>
        </a>
    </section>
    <section>
        <a href="">
            <h1>六月 | 产品大伽伴你行，从小白到精英的蜕变</h1>
            <article>by <span>沃尔大叔</span> 2016-8-16 18:52</article>
            <i><i class="icon1"></i></i>
            <i><i class="icon2"></i></i>
            <i><i class="icon3"></i></i>
            <i><i class="icon4"></i></i>
            <img src="css/da1.png">
            <p>一个APP开始启动设计时，第一步应该用主要页面定下整页面按着统一的设计风格进行细致的设计美化。</p>
            <h2>
                <div>
                    <div class="heart heart2"></div>
                    <span>12323</span>
                </div>
                <div>
                <span class="typing-indicator">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
                    <span>5333</span>
                </div>
            </h2>
        </a>
    </section>
</div>
<script src="js/zepto.min.js"></script>
<script src="js/aa.js"></script>
<script>
    var dpr = document.documentElement.getAttribute('data-dpr');
    document.body.style.fontSize = 12 * dpr + 'px';

        $('#loadList').dropload({
            scrollArea: window,
            loadDownFn: function (load) {
                var xhr = new XMLHttpRequest();
                xhr.open('GET', './articl_list.json', true);
                xhr.responseType = 'json';
                xhr.onload = function () {
                    loadHtml(this.response);
                    load.resetload();
                };
                xhr.onerror = function () {
                };
                xhr.send();
            }
        });



    function loadHtml(data) {
        $.each(data.data.list, function (index, item) {
            var d = data.data.list[index];
            var iconHtml = '';
            d.official && (iconHtml += '<i class="icon"><i class="icon1"></i></i>');
            d.cream && (iconHtml += '<i class="icon"><i class="icon2"></i></i>');
            d.stick && (iconHtml += '<i class="icon"><i class="icon3"></i></i>');
            d.img && (iconHtml += '<i class="icon"><i class="icon4"></i></i>');
            d.money && (iconHtml += '<i class="icon"><i class="icon5"></i></i>');
            var html = '<section>\
                        <a href="">\
                            <h1>' + d.subject + '</h1>\
                            <article>by <span>' + d.author + ' </span> ' + d.dateline + '</article>' + iconHtml + '\
                            <img src="css/da1.png">\
                            <p>' + d.content + '</p>\
                            <h2>\
                                <div>\
                                    <div class="heart heart2"></div>\
                                    <span>' + d.likes + '</span>\
                                </div>\
                                <div>\
                                    <span class="typing-indicator">\
                                        <span></span>\
                                        <span></span>\
                                        <span></span>\
                                    </span>\
                                    <span>' + d.replies + '</span>\
                                </div>\
                            </h2>\
                        </a>\
                    </section>';
            $('.dropload-down').before(html);
        });
    }
</script>
</body>
</html>